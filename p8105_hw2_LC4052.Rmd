---
title: "p8105_hw2_LC4052"
Author: "Linqi Chu"
output: github_document
date: "2025-09-28"
---

```{r}
library(tidyverse)
library(dplyr)

```


# Problem 1

## Clean the data in pols-month.csv

```{r}
pols_month = 
  read_csv("./fivethirtyeight_datasets/pols-month.csv",
           na = c("NA", ".", "")) |>
  janitor::clean_names() |>
  separate(mon, c("year", "month","day")) |>
  mutate(
    month = month.name[as.integer(month)],
    president = ifelse(prez_gop == 1, "gop", "dem")
  )|>
  select(-prez_dem, -prez_gop, -day)

```


## Clean the data in snp.csv

```{r}
snp_df = 
  read_csv("./fivethirtyeight_datasets/snp.csv",
           na = c("NA", ".", "")) |>
  janitor::clean_names() |>
  separate(date, c("month", "day","year")) |>
  mutate(
    month = month.name[as.integer(month)],
    year = as.integer(year),
    year = ifelse(year < 50,
                 2000 + year,
                 1900 + year)) |>
  select(-day) |>
  relocate(year, month, .before = everything()) |> 
  arrange(year, month)


```


## Tidy the unemployment data

```{r}
unemployment_df = 
  read_csv("./fivethirtyeight_datasets/unemployment.csv",
           na = c("NA", ".", "")) |>
  janitor::clean_names() |>
  pivot_longer(
    jan:dec,
    names_to = "month", 
    values_to = "unemployment(%)") |>
  mutate(
    month = factor(month, 
                      levels = c("jan","feb","mar","apr","may","jun",
                                 "jul","aug","sep","oct","nov","dec"),
                      labels = month.name))

```


## Join the datasets by merging snp into pols, and merging unemployment into the result.




```{r}
pols_df = left_join(pols_month, snp_df, by = c("year","month"))
  


```

Write a short paragraph about these datasets. Explain briefly what each dataset contained, and 
Pols-month.csv contains variables:
describe the resulting dataset (e.g. give the dimension, range of years, and names of key variables).



# Problem 2

```{r}








```







```{r}







```



```{r}








```






```{r}

```







# Problem 3

```{r}









```




